<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>storage_10 - Ejercicio: pasar un formulario a otra página (JSON)</title>
</head>

<body>
    <h1>storage_10 - Ejercicio: pasar un formulario a otra página (JSON)</h1>
    <legend>Nombre:</legend>
    <input type="text" id="firstname" required="required" />
    <br /><br />
    <legend>Apellidos:</legend>
    <input type="text" id="lastname" required="required" />
    <br /><br />
    <legend>Fecha de nacimiento:</legend>
    <input type="date" id="birthdate" required="required" />
    <br /><br />
    <legend>Dirección</legend>
    <legend>Calle:</legend>
    <input type="text" id="street" required="required" />
    <legend>Número:</legend>
    <input type="number" id="housenumber" required="required" min="1" />
    <br /><br />
    <legend>Módulos:</legend>
    <select id="modulos" size="5" multiple="multiple" required="required">
		<option value="cliente">DESARROLLO WEB EN ENTORNO CLIENTE</option>
		<option value="servidor">DESARROLLO WEB EN ENTORNO SERVIDOR</option>
		<option value="despliegue">DESPLIEGUE DE APLICACIONES WEB</option>
		<option value="diseño">DISEÑO DE INTERFACES WEB</option>
		<option value="fol">FOL</option>
	</select>
    <br /><br />
    <legend>Cursará FCT:</legend>
    <input type="checkbox" id="fct" />
    <br /><br />
    <hr>
    <button onclick="send();">Enviar</button>
    <hr>

    <script type="text/javascript">
        function send() {
            var student = {};
            student.firstname = document.getElementById("firstname").value;
            student.lastname = document.getElementById("lastname").value;
            student.birthdate = document.getElementById("birthdate").value;
            student.address = {};
            student.address.street = document.getElementById("street").value;
            student.address.number = document.getElementById("housenumber").value;
            var subjects = [];
            for (i = 0; i < document.getElementById("modulos").options.length; i++) {
                if (document.getElementById("modulos").options[i].selected) {
                    subjects.push(document.getElementById("modulos").options[i].textContent);
                }
            }
            student.subjectList = subjects;
            if (document.getElementById("fct").checked) {
                student.fct = true;
            } else {
                student.fct = false;
            }
            var studentInfo = JSON.stringify(student);
            localStorage.setItem("student", studentInfo);
        }
    </script>
</body>

</html>