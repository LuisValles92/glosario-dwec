<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RECURSO3_A</title>
    <style>
        select,
        button {
            font-size: 24px;
        }
    </style>
</head>

<body>
    <h1>RECURSO3_A</h1>
    <select id="select_A">
        <option value="seleccionar">Seleccionar país</option>
        <option value="ES">ESPAÑA</option>
        <option value="CA">CANADÁ</option>
        <option value="SUD">SUDÁFRICA</option>
    </select>
    <button id="enviar_A" onclick="setProperty();">ENVIAR PAÍS</button>

    <script type="application/javascript">
        window.addEventListener("storage", e => {
            var option = document.createElement("option");
            option.textContent = e.key;
            option.value = e.oldValue;
            document.getElementById("select_A").appendChild(option);
        });

        function setProperty() {
            var indice_seleccionado = document.getElementById("select_A").selectedIndex;
            if (indice_seleccionado == 0)
                alert("Seleccione un país");
            else {
                var option = document.getElementById("select_A").options.item(indice_seleccionado);
                if (localStorage.getItem(option.textContent) != null)
                    localStorage.removeItem(option.textContent);
                else
                    localStorage.setItem(option.textContent, option.value);
                document.getElementById("select_A").options.remove(indice_seleccionado);
            }
        }
    </script>
</body>

</html>