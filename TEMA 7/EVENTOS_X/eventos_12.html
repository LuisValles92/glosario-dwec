<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>eventos_12 - Propagación (bubbling and capturing)</title>
    <style>
        div {
            left: 25%;
            top: 25%;
            position: relative;
        }
        
        .claseRojo {
            background-color: red;
            width: 400px;
            height: 400px;
        }
        
        .claseAzul {
            background-color: blue;
            width: 200px;
            height: 200px;
        }
        
        .claseAmarillo {
            background-color: yellow;
            width: 100px;
            height: 100px;
        }
    </style>
</head>

<body>
    <h1>eventos_12 - Propagación (bubbling and capturing)</h1>
    <h2>Ver consola</h2>
    <h3>Los eventos se propagan si sus ascendentes y descendentes llaman al mismo tipo de evento</h3>
    <h3>Tercer par&aacute;metro opcional de addEventListener(,,true/false)<br>Distinci&oacute;n:<br>currentTarget: El objeto que est&aacute; gestionando/manejando el evento.<br>target: El objeto donde se produjo el evento, el objeto origen.</h3>
    <p>BUBBLING: Por defecto: false. De dentro hacia afuera.</p>
    <hr>
    <div class="claseRojo" id="cRojo1">
        <div class="claseAzul" id="cAzul1">
            <div class="claseAmarillo" id="cAmarillo1">
            </div>
        </div>
    </div>
    <hr>
    <p>CAPTURING: true. De fuera hacia adentro.</p>
    <hr>
    <div class="claseRojo" id="cRojo2">
        <div class="claseAzul" id="cAzul2">
            <div class="claseAmarillo" id="cAmarillo2">
            </div>
        </div>
    </div>
    <hr>

    <script type="text/javascript">
        document.getElementById("cRojo1").addEventListener("click", fRojoBubbling);
        document.getElementById("cAzul1").addEventListener("click", fAzulBubbling, false);
        document.getElementById("cAmarillo1").addEventListener("click", fAmarilloBubbling);

        function fRojoBubbling(e) {
            var origen = e.target.id;
            var gestion = e.currentTarget.id;
            console.log("ROJO BUBBLING -> id del objeto origen (target): " + origen + ", id del objeto que está gestionando el evento (currentTarget): " + gestion);
        }

        function fAzulBubbling() {
            console.log("AZUL BUBBLING");
        }

        function fAmarilloBubbling() {
            console.log("AMARILLO BUBBLING");
        }

        document.getElementById("cRojo2").addEventListener("click", fRojoCapturing, true);
        document.getElementById("cAzul2").addEventListener("click", fAzulCapturing, true);
        document.getElementById("cAmarillo2").addEventListener("click", fAmarilloCapturing, true);

        function fRojoCapturing() {
            console.log("ROJO CAPTURING");
        }

        function fAzulCapturing() {
            console.log("AZUL CAPTURING");
        }

        function fAmarilloCapturing() {
            console.log("AMARILLO CAPTURING");
        }
    </script>
</body>

</html>