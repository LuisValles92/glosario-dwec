<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>jQuery_97 - Ejercicio: Convertir tabla en listas de distinto tipo</title>
		<script src="jquery-3.5.1.js"></script>
	</head>
	<body>
		<h1>jQuery_97 - Ejercicio: Convertir tabla en listas de distinto tipo</h1>
		<button id="b1">Una única lista con todos los elementos de la tabla</button>
		<button id="b2">Una lista por cada columna de la tabla</button>
		<button id="b3">Una lista por cada fila de la tabla</button>
		<br /><br />
		<table id="tabla1" border="2">
			<tr>
				<td>Capítulo 1</td>
				<td>A</td>
				<td>B</td>
				<td>C</td>
			</tr>
			<tr>
				<td>Capítulo 2</td>
				<td>D</td>
				<td>E</td>
				<td>F</td>
			</tr>
			<tr>
				<td>Capítulo 3</td>
				<td>G</td>
				<td>H</td>
				<td>I</td>
			</tr>
			<tr>
				<td>Capítulo 4</td>
				<td>J</td>
				<td>K</td>
				<td>L</td>
			</tr>
			<tr>
				<td>Capítulo 5</td>
				<td>M</td>
				<td>N</td>
				<td>O</td>
			</tr>
			<tr>
				<td>Capítulo 6</td>
				<td>P</td>
				<td>Q</td>
				<td>R</td>
			</tr>
		</table>
		<br />
		<p id="titulo"></p>
		<br />

		<script>
			$(function (){
				$("#b1").click(function () {
					$("body ul").remove();
					$("body").append("<ul>");
					$("table tr td").each(function(i) {
						//i es el índice, comienza desde 0 y llega hasta 23
						//this hace referencia al elemento td
						//la siguiente línea imprime TODOS los tds
						//console.log($("table tr td"));
						//$(this) -> Selector para acceder a los hijos de un elemento
						$("body ul").append("<li>" + $(this).text() + "</li>");
					});
					$("#titulo").html("<h2>Un única lista con todos los elementos de la tabla</h2>");
				});

				$("#b2").click(function () {
					$("body ul").remove();
					$("table tr:first").children().each(function(x) {
						//valores de x: de 0 a 3
						$("body").append("<ul>");
						$("table tr").each(function(i) {
							//valores de i: de 0 a 5 x 4
							//this hace referencia a cada tr, children a los tds de cada tr, con eq(indice) lo va recorriendo
							$("body ul:last").append("<li>" + $(this).children().eq(x).text() + "</li>");
						});
					});
					$("#titulo").html("<h2>Una lista por cada columna de la tabla</h2>");
				});

				$("#b3").click(function () {
					$("body ul").remove();
					$("table tr").each(function(x) {
						$("body").append("<ul>");
						$(this).children().each(function(i) {
							$("body ul:last").append("<li>" + $(this).text() + "</li>");
						});
					});
					$("#titulo").html("<h2>Una lista por cada fila de la tabla</h2>");
				});
			});
		</script>
	</body>
</html>