<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>RECURSO3</title>
</head>

<body>
    <h1>RECURSO3</h1>
    <form name="formulario1" onchange="f1();">
        <legend>FORMULARIO 1</legend><br><br>
        <label>POSICIONES (NO SE PUEDEN REPETIR):</label><br><br>
        <select>
            <option value="empty"></option>
            <option value="p1">P1</option>
            <option value="p2">P2</option>
            <option value="p3">P3</option>
        </select><br><br>
        <select>
            <option value="empty"></option>
            <option value="p1">P1</option>
            <option value="p2">P2</option>
            <option value="p3">P3</option>
        </select><br><br>
        <select>
            <option value="empty"></option>
            <option value="p1">P1</option>
            <option value="p2">P2</option>
            <option value="p3">P3</option>
        </select>
    </form>
    <br><br>
    <form name="formulario2" onchange="f2();">
        <legend>FORMULARIO 2</legend><br><br>
        <label>COLORES (NO SE PUEDEN REPETIR):</label><br><br>
        <select>
            <option value="empty"></option>
            <option value="negro">NEGRO</option>
            <option value="azul">AZUL</option>
            <option value="rojo">ROJO</option>
        </select><br><br>
        <select>
            <option value="empty"></option>
            <option value="negro">NEGRO</option>
            <option value="azul">AZUL</option>
            <option value="rojo">ROJO</option>
        </select><br><br>
        <select>
            <option value="empty"></option>
            <option value="negro">NEGRO</option>
            <option value="azul">AZUL</option>
            <option value="rojo">ROJO</option>
        </select>
    </form>
    <script>
        var vector_f1 = [];
        var vector_f2 = [];

        function f1() {
            for (let i = 0; i < formulario1.elements.length; i++) {
                var indexSelected = formulario1.elements[i].options.selectedIndex;
                if (indexSelected == 0 || !vector_f1.includes(indexSelected)) {
                    vector_f1[i] = indexSelected;
                } else {
                    if (indexSelected != vector_f1[i]) {
                        alert("POSICIÃ“N REPETIDA");
                        formulario1.elements[i].options.selectedIndex = vector_f1[i];
                    }
                }
            }
            // console.table(vector_f1);
        }

        function f2() {
            for (let i = 0; i < formulario2.elements.length; i++) {
                var indexSelected = formulario2.elements[i].options.selectedIndex;
                if (indexSelected == 0 || !vector_f2.includes(indexSelected)) {
                    vector_f2[i] = indexSelected;
                } else {
                    if (indexSelected != vector_f2[i]) {
                        alert("COLOR REPETIDO");
                        formulario2.elements[i].options.selectedIndex = vector_f2[i];
                    }
                }
            }
            // console.table(vector_f2);
        }
    </script>
</body>

</html>