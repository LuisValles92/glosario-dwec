<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ajax_13 - Ajax con jQuery - Consulta AJAX completa ($.ajax())</title>
    <script type="text/javascript" src="../jquery-3.5.1.js"></script>
    <style type="text/css">
        div {
            border: 2px solid red;
        }
    </style>
</head>

<body>
    <h1>ajax_13 - Ajax con jQuery - Consulta AJAX completa ($.ajax())</h1>
    <button id="boton">Petición</button>
    <div id="cuadro"></div>

    <script type="text/javascript ">
        $(function() {
            $("#boton").click(function() {
                $.ajax({
                    url: "ajax_13.php",
                    type: "get",
                    data: "editorial=ANAYA", //No permite pasar parametros como objetos
                    datType: "html",
                    //Orden de ejecución: 
                    //2
                    success: function(datos, estado, xhr) {
                        $("#cuadro").append(datos);
                    },
                    //1
                    beforeSend: function(xhr) {
                        $("#cuadro").append("INICIO<hr/>");
                    },
                    //3
                    complete: function(xhr, estado) {
                        $("#cuadro").append("<hr/>FINAL");
                    },
                    error: function(xhr, estado, error) {
                        alert(estado + " - " + error);
                    }
                });
            });
        });
    </script>
</body>

</html>