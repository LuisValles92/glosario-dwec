<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ajax_16 - Ajax con jQuery - ajaxSend, ajaxStart, ajaxStop, ajaxSuccess, ajaxComplete, ajaxError</title>
    <script type="text/javascript" src="../jquery-3.5.1.js"></script>
    <style type="text/css">
        div {
            border: 2px solid red;
        }
    </style>
</head>

<body>
    <h1>ajax_16 - Ajax con jQuery - ajaxSend, ajaxStart, ajaxStop, ajaxSuccess, ajaxComplete, ajaxError</h1>
    <button>Ejecutar la consulta</button>
    <div id="datos"></div>

    <script type="text/javascript">
        $(function() {
            $(document).ajaxStart(function() {
                $("div").append("Ejecución de <b>ajaxStart</b><br />");
            });

            $(document).ajaxSend(function() {
                $("div").append("Ejecución de <b>ajaxSend</b><br />");
            });

            $(document).ajaxSuccess(function() {
                $("div").append("Ejecución de <b>ajaxSuccess</b><br />");
            });

            $(document).ajaxComplete(function() {
                $("div").append("Ejecución de <b>ajaxComplete</b><br />");
            });

            $(document).ajaxStop(function() {
                $("div").append("Ejecución de <b>ajaxStop</b><br />");
            });

            $(document).ajaxError(function() {
                $("div").append("Ejecución de <b>ajaxError</b><br />");
            });

            $("button").click(function() {
                $("div").append("Ejecución antes la consulta<br />");

                //Asíncrono
                $.ajax({
                    url: "ajax_16.php",
                    type: "get",
                    success: function(datos) {
                        $("div").append(datos);
                        $("div").append("<br />Ejecución en la consulta<br />");
                    }
                });

                $("div").append("Código JQuery posterior a $.ajax. Asíncrono.<br />");
            });
        });
    </script>
</body>

</html>