<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ajax_15 - Ajax con jQuery - ajaxSetup ($.ajaxSetup() y $.ajax())</title>
    <script type="text/javascript" src="../jquery-3.5.1.js"></script>
    <style type="text/css">
        div {
            border: 2px solid red;
        }
    </style>
</head>

<body>
    <h1>ajax_15 - Ajax con jQuery - ajaxSetup ($.ajaxSetup() y $.ajax())</h1>
    <p>Selecciona un ISBN para ver los detalles</p>
    <select id="isbn">
		<option value="1">1</option>
		<option value="2">2</option>
		<option value="3">3</option>
		<option value="4">4</option>
		<option value="5">5</option>
	</select>
    <div></div>

    <script type="text/javascript ">
        $(function() {
            $.ajaxSetup({
                url: "ajax_15.php",
                type: "get",
                success: function(datos, estado, xhr) {
                    $("div").text(datos);
                },
                error: function(xhr, estado, error) {
                    console.log(estado + " - " + error);
                }
            });

            $("#isbn").change(function() {
                $.ajax({
                    data: "isbn=" + $("select").val()
                });
            });
        });
    </script>
</body>

</html>